# =========================================
# Schedule Platform Plus - ПОЛНЫЙ ШАБЛОН КОНФИГУРАЦИИ
# Скопируйте этот файл в .env и заполните реальными значениями
# =========================================

# ========================================
# КРИТИЧЕСКИ ВАЖНЫЕ СЕКРЕТЫ (ОБЩИЕ)
# ========================================
# Сгенерируйте сильные ключи для продакшена!
# openssl rand -hex 32
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
INTERNAL_API_KEY=your-internal-api-key-change-this-in-production

# ========================================
# БАЗА ДАННЫХ POSTGRESQL
# ========================================
POSTGRES_PASSWORD=your-postgres-password

# URLs для каждого сервиса (используются в docker-compose)
AUTH_DATABASE_URL=postgresql+psycopg://auth_user:auth_password@postgres:5432/auth_service_db
PROFILE_DATABASE_URL=postgresql+psycopg://profile_user:profile_password@postgres:5432/profile_service_db
SCHEDULE_DATABASE_URL=postgresql+psycopg://schedule_user:schedule_password@postgres:5432/schedule_service_db

# Индивидуальные настройки для каждого сервиса
# AUTH SERVICE DATABASE
AUTH_DATABASE_HOST=postgres
AUTH_DATABASE_PORT=5432
AUTH_DATABASE_NAME=auth_service_db
AUTH_DATABASE_USER=auth_user
AUTH_DATABASE_PASSWORD=auth_password

# PROFILE SERVICE DATABASE
PROFILE_DATABASE_HOST=postgres
PROFILE_DATABASE_PORT=5432
PROFILE_DATABASE_NAME=profile_service_db
PROFILE_DATABASE_USER=profile_user
PROFILE_DATABASE_PASSWORD=profile_password

# SCHEDULE SERVICE DATABASE
SCHEDULE_DATABASE_HOST=postgres
SCHEDULE_DATABASE_PORT=5432
SCHEDULE_DATABASE_NAME=schedule_service_db
SCHEDULE_DATABASE_USER=schedule_user
SCHEDULE_DATABASE_PASSWORD=schedule_password

# ========================================
# REDIS НАСТРОЙКИ
# ========================================
REDIS_HOST=redis
REDIS_PORT=6379

# URLs для каждого сервиса (разные DB для изоляции)
AUTH_REDIS_URL=redis://redis:6379/0
PROFILE_REDIS_URL=redis://redis:6379/1
SCHEDULE_REDIS_URL=redis://redis:6379/2

# Индивидуальные настройки
AUTH_REDIS_DB=0
PROFILE_REDIS_DB=1
SCHEDULE_REDIS_DB=2

# ========================================
# JWT НАСТРОЙКИ (общие для всех)
# ========================================
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ========================================
# ПРИЛОЖЕНИЕ (общие настройки)
# ========================================
# Для разработки: DEBUG=true, ENVIRONMENT=development
# Для продакшена: DEBUG=false, ENVIRONMENT=production
DEBUG=true
ENVIRONMENT=development

# Версии сервисов
AUTH_APP_NAME=Auth Service
AUTH_APP_VERSION=1.0.0
PROFILE_APP_NAME=Profile Service
PROFILE_APP_VERSION=1.0.0
SCHEDULE_APP_NAME=Schedule Service
SCHEDULE_APP_VERSION=1.0.0

# ========================================
# CORS (добавьте домены вашего фронтенда)
# ========================================
ALLOWED_ORIGINS=["http://localhost:3000","http://localhost:8080","http://localhost:5173"]
ALLOW_CREDENTIALS=true

# ========================================
# МИКРОСЕРВИСЫ ИНТЕГРАЦИЯ
# ========================================
# URLs для межсервисного общения (в Docker сети)
AUTH_SERVICE_URL=http://auth-service:8000
PROFILE_SERVICE_URL=http://profile-service:8002
SCHEDULE_SERVICE_URL=http://schedule-service:8001

# Таймауты
AUTH_SERVICE_TIMEOUT=30
PROFILE_SERVICE_TIMEOUT=30
SCHEDULE_SERVICE_TIMEOUT=30

# ========================================
# AUTH SERVICE СПЕЦИФИЧНЫЕ НАСТРОЙКИ
# ========================================

# Email конфигурация (для будущей верификации)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
FROM_EMAIL=noreply@yourdomain.com

# Безопасность паролей
PASSWORD_MIN_LENGTH=8
BCRYPT_ROUNDS=12

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60

# ========================================
# PROFILE SERVICE СПЕЦИФИЧНЫЕ НАСТРОЙКИ
# ========================================

# Настройки аватаров
MAX_AVATAR_SIZE_MB=5
ALLOWED_IMAGE_TYPES=["image/jpeg","image/png","image/webp"]
AVATAR_UPLOAD_PATH=/app/static/avatars

# Кэширование (в секундах)
CACHE_USER_PROFILE_TTL=600
CACHE_DASHBOARD_TTL=300
CACHE_COMMENTS_TTL=180
CACHE_ACTIVITY_TTL=3600

# Dashboard настройки
MAX_RECENT_ACTIVITIES=10
MAX_UPCOMING_LESSONS=5
DASHBOARD_DATA_DAYS_BACK=30

# Система комментариев
MAX_COMMENT_LENGTH=1000
ALLOW_COMMENT_EDITING_HOURS=24

# ========================================
# SCHEDULE SERVICE СПЕЦИФИЧНЫЕ НАСТРОЙКИ
# ========================================

# Настройки расписания
DEFAULT_LESSON_DURATION_MINUTES=60
MAX_WEEKS_FORWARD=4
MAX_WEEKS_BACKWARD=1
CACHE_SCHEDULE_TTL=300

# Бронирование уроков
MAX_ADVANCE_BOOKING_DAYS=30
MIN_ADVANCE_BOOKING_HOURS=2
BOOKING_WINDOW_WEEKS=4

# ========================================
# ИНСТРУМЕНТЫ РАЗРАБОТКИ
# ========================================
# PgAdmin
PGADMIN_EMAIL=admin@example.com
PGADMIN_PASSWORD=admin123

# ========================================
# ДОПОЛНИТЕЛЬНЫЕ НАСТРОЙКИ
# ========================================
# Логирование
LOG_LEVEL=INFO

# Безопасность
SECURE_COOKIES=false  # true для HTTPS в продакшене
SESSION_TIMEOUT_MINUTES=60

# Мониторинг
HEALTH_CHECK_INTERVAL=30
METRICS_ENABLED=true